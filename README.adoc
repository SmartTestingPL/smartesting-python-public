=  SmartTesting

== Struktura folder贸w

* Ka偶da lekcja ma swoje podfoldery (e.g `01-introduction-to-testing`).
* Ka偶dy folder zawiera plik `README.adoc` z dodatkowym opisem dla ka偶dej lekcji.
* Modu `00-app` zawiera aplikacj symulujc kod biznesowy. Aplikacja bdzie wykorzystana w pracy domowej.

== Wymagania

呕eby uruchomi projekt nale偶y mie zainstalowane:

* Python 3.11
* Poetry (https://python-poetry.org/docs/#installation)
* Docker
* Docker Compose

Upewnij si, 偶e u偶ytkownik systemowy z kt贸rego wykonujesz polecenia ma dostp do polecenia `docker`.

Je偶eli u偶ywasz niestandardowej instalacji Dockera, mo偶e by potrzebne podanie w zmiennej rodowiskowej lokalizacji gniazda do komunikacji z daemonem, np:
```bash
DOCKER_HOST=unix:///Users/spb/.colima/default/docker.sock pytest tests/
```

== Jak zbudowa projekt?

Kod by rozwijany i testowany pod wersj Pythona 3.11. Zalecamy korzystanie z tej wersji. Gdyby nie zosta wybrany automatycznie, to uruchamiamy jeszcze przed wywoaniem `poetry install`:

```
poetry env use python3.11
```

Nastpnie, wystarczy uruchomi komend w g贸wnym katalogu:

```
poetry install
```

Poetry automatycznie utworzy nam virtualenv i zainstaluje zale偶noci wymagane do wszystkich lekcji.

Aby m贸c wywoywa polecenia, musimy przeczy si na powstay virtualenv:
```
poetry shell
```

== Uwagi dla Pythonist贸w

W czci README w lekcjach znajdziecie dodatkowe wskaz贸wki oznaczone emoji w偶a - .

S to albo dodatkowe treci i biblioteki wykorzystywane w naszym jzyku albo rady specjalnie dla Pythonist贸w.

== Praca w konsoli

Przeczamy si na virtualenv:

```
poetry shell
```

Testy mo偶na uruchomi z katalogu g贸wnego, podajc pen cie偶k do danej lekcji:

```
pytest 01-introduction-to-testing/01-01-unit-tests/
```

Mo偶na te偶 uruchamia polecenie z rodka danego folderu:

```
cd 01-introduction-to-testing/01-01-unit-tests/
pytest
```

*Uruchamiamy zawsze kod jednej lekcji naraz.*

== Praca w PyCharm

=== Interpreter projektu

Zaczynamy od ustawienia interpretera projektu. Najpierw w konsoli sprawdzamy cie偶k:

```
poetry run which python
```

Nastpnie w konfiguracji (Project -> Python Interpreter) wskazujemy cie偶k uzyskan z polecenia `poetry run which python`, na przykad:

image::docs/images/venv_pycharm.png[]

=== Ustawienie Sources root

Aby m贸c przeszukiwa kod danej lekcji, musimy ustawi jej folder jako sources root, np:

image::docs/images/sources_root.png[]

Tylko w ten spos贸b bdziemy mogli nawigowa w kodzie i wspomaga si wyszukiwaniem.

Wikszo tygodni bdzie zawiera kilka lekcji - np. tydzie 3 ma m.in.:
```
03-integration-testing/
 03-02-xxx
 03-03-yyy
 03-07-zzz
```

W takim przypadku musimy pracowa tylko jedn lekcja naraz i w danej chwili mie albo `03-integration-testing/03-02-xxx` albo `03-integration-testing/03-03-yyy` albo `03-integration-testing/03-02-zzz` ustawione jako Sources Root.

Ustawienie kilku lekcji naraz jako Sources Root nie bdzie dobrze dziaa. Po zakoczeniu pracy z dan lekcj nale偶y j odznaczy (Unmark as Sources Root w tym samym menu).

== Inne

Kod jest sformatowany blackiem na domylnych ustawieniach - tj. maksymalna dugo linii - 88 znak贸w.


**DISCLAIMER**

* Kod jest czysto demonstracyjny i nie stanowi wzorcowego kodu projektowego - zamiast na jak
najlepiej napisanym kodzie produkcyjnym koncentrujemy si na przykadach, kt贸re pozwalaj pokaza
wiele sposob贸w pracy z testami; czsto celowo dodajemy "produkcyjny" kod, kt贸ry nie jest poprawnie zaprojektowany po to, 偶eby pokaza jak sobie z nim radzi i mimo wszystko by w stanie go przetestowa oraz przykady zych test贸w, kt贸rych radzimy unika.
* Nie polecamy pisania komentarzy po polsku w projektach - tutaj robimy to, poniewa偶 jest to wycznie kod szkoleniowy.
